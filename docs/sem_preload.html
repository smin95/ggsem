<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Integrated SEM Workflow – ggsem: Build, Visualize, and Explore Path Diagrams Interactively</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./network_preload.html" rel="next">
<link href="./network_genAI.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/viz-1.8.2/viz.js"></script>

<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">

<script src="site_libs/grViz-binding-1.0.11/grViz.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./sem_preload.html">Single-Group Workflow Using Pre-loaded Objects</a></li><li class="breadcrumb-item"><a href="./sem_preload.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Integrated SEM Workflow</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ggsem: Build, Visualize, and Explore Path Diagrams Interactively</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/smin95/ggsem" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Welcome</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">A Quick Overview on Multi-Group SEM Workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">App Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./autogenerate_workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Batch Graphical Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Code-free SEM Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">SEM Diagram Functions Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem_genAI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">AI-Assisted Model and Layout Generations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem_stats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Visualize Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem_multigroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Multi-Group SEM Visualization</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Code-free Network Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Network Diagram Functions Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network_genAI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">AI-Powered Network Layout Generation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Single-Group Workflow Using Pre-loaded Objects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem_preload.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Integrated SEM Workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network_preload.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Integrated Network Workflow</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Multi-Group SEM Workflow Using Pre-loaded Objects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lavaan_semPaths_multigroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title"><code>lavaan</code> and/or <code>semPaths</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blavaan_semPaths_multigroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title"><code>blavaan</code> and/or <code>semPaths</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidySEM_multigroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title"><code>lavaan/blavaan</code> + <code>tidySEM</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./openmx_multigroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title"><code>OpenMx</code></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Others</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aesthetic_grouping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Aesthetic Grouping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./metadata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Storing Outputs and Metadata Across Sessions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#loading-lavaan-objects" id="toc-loading-lavaan-objects" class="nav-link active" data-scroll-target="#loading-lavaan-objects">1. Loading <code>lavaan</code> Objects</a>
  <ul class="collapse">
  <li><a href="#step-1-fit-your-sem-model" id="toc-step-1-fit-your-sem-model" class="nav-link" data-scroll-target="#step-1-fit-your-sem-model">Step 1: Fit Your SEM Model</a></li>
  <li><a href="#step-2-launch-ggsem-with-the-fitted-model" id="toc-step-2-launch-ggsem-with-the-fitted-model" class="nav-link" data-scroll-target="#step-2-launch-ggsem-with-the-fitted-model">Step 2: Launch ggsem with the Fitted Model</a></li>
  </ul></li>
  <li><a href="#loading-semplot-objects" id="toc-loading-semplot-objects" class="nav-link" data-scroll-target="#loading-semplot-objects">2. Loading <code>semPlot</code> Objects</a>
  <ul class="collapse">
  <li><a href="#step-1-create-semplot-object" id="toc-step-1-create-semplot-object" class="nav-link" data-scroll-target="#step-1-create-semplot-object">Step 1: Create <code>semPlot</code> Object</a></li>
  <li><a href="#step-2-launch-ggsem-with-qgraph-object" id="toc-step-2-launch-ggsem-with-qgraph-object" class="nav-link" data-scroll-target="#step-2-launch-ggsem-with-qgraph-object">Step 2: Launch <code>ggsem</code> with <code>qgraph</code> Object</a></li>
  </ul></li>
  <li><a href="#loading-blavaan-objects" id="toc-loading-blavaan-objects" class="nav-link" data-scroll-target="#loading-blavaan-objects">3. Loading <code>blavaan</code> Objects</a>
  <ul class="collapse">
  <li><a href="#step-1-fit-your-bayesian-sem" id="toc-step-1-fit-your-bayesian-sem" class="nav-link" data-scroll-target="#step-1-fit-your-bayesian-sem">Step 1: Fit Your Bayesian SEM</a></li>
  <li><a href="#step-2-optional-sempaths-visualization" id="toc-step-2-optional-sempaths-visualization" class="nav-link" data-scroll-target="#step-2-optional-sempaths-visualization">Step 2: Optional <code>semPaths</code> Visualization</a></li>
  <li><a href="#step-3-launch-ggsem-with-blavaan-objects" id="toc-step-3-launch-ggsem-with-blavaan-objects" class="nav-link" data-scroll-target="#step-3-launch-ggsem-with-blavaan-objects">Step 3: Launch <code>ggsem</code> with <code>blavaan</code> Objects</a></li>
  </ul></li>
  <li><a href="#loading-lavaanplotobjects" id="toc-loading-lavaanplotobjects" class="nav-link" data-scroll-target="#loading-lavaanplotobjects">4. Loading <code>lavaanPlot</code>Objects</a>
  <ul class="collapse">
  <li><a href="#step-1-create-lavaanplot-visualization" id="toc-step-1-create-lavaanplot-visualization" class="nav-link" data-scroll-target="#step-1-create-lavaanplot-visualization">Step 1: Create <code>lavaanPlot</code> Visualization</a></li>
  <li><a href="#step-2-launch-ggsem-with-lavaanplot-object" id="toc-step-2-launch-ggsem-with-lavaanplot-object" class="nav-link" data-scroll-target="#step-2-launch-ggsem-with-lavaanplot-object">Step 2: Launch <code>ggsem</code> with <code>lavaanPlot</code> Object</a></li>
  <li><a href="#important-requirements" id="toc-important-requirements" class="nav-link" data-scroll-target="#important-requirements">Important Requirements</a></li>
  <li><a href="#what-ggsem-preserves" id="toc-what-ggsem-preserves" class="nav-link" data-scroll-target="#what-ggsem-preserves">What <code>ggsem</code> Preserves:</a></li>
  <li><a href="#what-may-differ" id="toc-what-may-differ" class="nav-link" data-scroll-target="#what-may-differ">What May Differ:</a></li>
  </ul></li>
  <li><a href="#loading-tidysem-objects" id="toc-loading-tidysem-objects" class="nav-link" data-scroll-target="#loading-tidysem-objects">5. Loading <code>tidySEM</code> Objects</a>
  <ul class="collapse">
  <li><a href="#step-1-create-tidysem-object" id="toc-step-1-create-tidysem-object" class="nav-link" data-scroll-target="#step-1-create-tidysem-object">Step 1: Create <code>tidySEM</code> Object</a></li>
  <li><a href="#step-2-launch-ggsem-with-sem_graph-object" id="toc-step-2-launch-ggsem-with-sem_graph-object" class="nav-link" data-scroll-target="#step-2-launch-ggsem-with-sem_graph-object">Step 2: Launch <code>ggsem</code> with <code>sem_graph</code> Object</a></li>
  <li><a href="#important-notes" id="toc-important-notes" class="nav-link" data-scroll-target="#important-notes">Important Notes</a></li>
  <li><a href="#what-ggsem-preserves-1" id="toc-what-ggsem-preserves-1" class="nav-link" data-scroll-target="#what-ggsem-preserves-1">What <code>ggsem</code> Preserves:</a></li>
  <li><a href="#what-ggsem-cannot-modify" id="toc-what-ggsem-cannot-modify" class="nav-link" data-scroll-target="#what-ggsem-cannot-modify">What <code>ggsem</code> Cannot Modify:</a></li>
  </ul></li>
  <li><a href="#loading-openmx-objects" id="toc-loading-openmx-objects" class="nav-link" data-scroll-target="#loading-openmx-objects">6. Loading <code>OpenMx</code> Objects</a>
  <ul class="collapse">
  <li><a href="#approach-1-openmx-model-only" id="toc-approach-1-openmx-model-only" class="nav-link" data-scroll-target="#approach-1-openmx-model-only">Approach 1: <code>OpenMx</code> Model Only</a></li>
  <li><a href="#approach-2-openmx-model-tidysem-visualization" id="toc-approach-2-openmx-model-tidysem-visualization" class="nav-link" data-scroll-target="#approach-2-openmx-model-tidysem-visualization">Approach 2: <code>OpenMx</code> Model + <code>tidySEM</code> Visualization</a></li>
  <li><a href="#key-differences" id="toc-key-differences" class="nav-link" data-scroll-target="#key-differences">Key Differences:</a></li>
  </ul></li>
  <li><a href="#loading-openmx-objects-created-with-umx-package" id="toc-loading-openmx-objects-created-with-umx-package" class="nav-link" data-scroll-target="#loading-openmx-objects-created-with-umx-package">7. Loading <code>OpenMx</code> Objects Created with <code>umx</code> Package</a></li>
  <li><a href="#loading-mplus-object" id="toc-loading-mplus-object" class="nav-link" data-scroll-target="#loading-mplus-object">8. Loading <code>Mplus</code> Object</a></li>
  <li><a href="#loading-semplot-objects-with-modifications-from-semptools-package" id="toc-loading-semplot-objects-with-modifications-from-semptools-package" class="nav-link" data-scroll-target="#loading-semplot-objects-with-modifications-from-semptools-package">9. Loading <code>semPlot</code> Objects with Modifications from <code>semptools</code> Package</a>
  <ul class="collapse">
  <li><a href="#annotations" id="toc-annotations" class="nav-link" data-scroll-target="#annotations">Annotations</a></li>
  <li><a href="#customized-layout" id="toc-customized-layout" class="nav-link" data-scroll-target="#customized-layout">Customized Layout</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./sem_preload.html">Single-Group Workflow Using Pre-loaded Objects</a></li><li class="breadcrumb-item"><a href="./sem_preload.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Integrated SEM Workflow</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-intro" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Integrated SEM Workflow</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The <code>ggsem</code> package provides direct integration with multiple SEM object types, allowing you to launch the application with pre-loaded models and visualizations. Here, I demonstrate how one object can be pre-loaded before launching the app. If you are interested in pre-loading multiple objects, see the next section of the book.</p>
<section id="purpose-of-this-workflow" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="purpose-of-this-workflow">Purpose of this workflow:</h4>
<p>If you want to modify aesthetics using interactive parameter visualization (dynamic dropdown of all nodes and edges etc), then you should pre-load output objects from other packages into <code>ggsem</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="multigroup_overview/param_demonstration.png" class="img-fluid figure-img" width="316"></p>
<figcaption>Figure 0. Interactive parameter visualization: Interactively modify the aesthetics of parameter ‘textual’ node through a dynamic dropdown</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="note" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="note">Note:</h4>
<pre><code>Error in plot.xy(xy.coords(x, y), type = type, ...) : 
  plot.new has not been called yet</code></pre>
<p>If you see this error message while going through the chapter, simply type this code, which resets the plotting space:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we discuss how to pre-load objects from various packages before launching the app: <code>lavaan</code>, <code>semPlot</code>, <code>blavaan</code>, <code>tidySEM</code>, <code>lavaanPlot</code>, <code>OpenMx</code>, <code>Mplus</code>, and <code>semptools</code>.</p>
</section>
<section id="loading-lavaan-objects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-lavaan-objects">1. Loading <code>lavaan</code> Objects</h2>
<p>You can directly visualize fitted structural equation models from the lavaan package by passing the fitted object to <code>ggsem()</code>.</p>
<section id="step-1-fit-your-sem-model" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-fit-your-sem-model">Step 1: Fit Your SEM Model</h3>
<p>First, ensure you have the required packages installed and loaded:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsem)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(blavaan)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaanPlot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify and fit a CFA model</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">  visual  =~ x1 + x2 + x3</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">  textual =~ x4 + x5 + x6  </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="st">  speed   =~ x7 + x8 + x9</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">sem</span>(model, <span class="at">data =</span> HolzingerSwineford1939)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-2-launch-ggsem-with-the-fitted-model" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-launch-ggsem-with-the-fitted-model">Step 2: Launch ggsem with the Fitted Model</h3>
<p>Pass the fitted lavaan object to ggsem using the <code>object</code> parameter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Launch app with the lavaan model pre-loaded</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig1.png" class="img-fluid figure-img" style="width:65.0%"></p>
<figcaption>Figure 1. SEM generated from pre-load lavaan object</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Important</strong>: The lavaan object must be provided to the <code>object</code> argument. The <code>model</code> argument is used only when <code>object</code> (visualization output, such as <code>qgraph</code>) is also provided.</p>
<section id="what-happens-when-you-load-a-lavaan-object" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="what-happens-when-you-load-a-lavaan-object">What Happens When You Load a <code>lavaan</code> Object:</h4>
<ul>
<li><p>The SEM diagram is automatically generated and displayed</p></li>
<li><p>All parameter estimates are pre-calculated and visible</p></li>
<li><p>Model fit statistics are computed and available</p></li>
<li><p>The original data is preserved for further analysis</p></li>
<li><p>The diagram is immediately customizable</p></li>
</ul>
</section>
<section id="customizing-the-initial-visualization" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="customizing-the-initial-visualization">Customizing the Initial Visualization</h4>
<p>You can control the initial appearance of your lavaan model by specifying additional parameters in the <code>ggsem</code> function call:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">object =</span> fit,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">center_x =</span> <span class="dv">15</span>,    <span class="co"># X-coordinate for diagram center</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">center_y =</span> <span class="dv">15</span>,    <span class="co"># Y-coordinate for diagram center  </span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">40</span>,       <span class="co"># Width of visualization area</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">40</span>       <span class="co"># Height of visualization area</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig2.png" class="img-fluid figure-img" style="width:85.0%"></p>
<figcaption>Figure 2. A larger SEM generated from pre-load lavaan object</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="loading-semplot-objects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-semplot-objects">2. Loading <code>semPlot</code> Objects</h2>
<p><code>ggsem</code> accepts <code>semPlot</code> objects (which inherit from the <code>qgraph</code> class), allowing you to import pre-configured visualizations.</p>
<section id="step-1-create-semplot-object" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-create-semplot-object">Step 1: Create <code>semPlot</code> Object</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create semPlot object - this is actually a qgraph object</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>semplot_obj <span class="ot">&lt;-</span> <span class="fu">semPaths</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  fit, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">layout =</span> <span class="st">"tree2"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">what =</span> <span class="st">"paths"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">whatLabels =</span> <span class="st">"est"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">style =</span> <span class="st">"lisrel"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">residuals =</span> <span class="cn">TRUE</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(semplot_obj)  <span class="co"># Returns "qgraph"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "qgraph"</code></pre>
</div>
</div>
<p>It is always better to set <code>residuals = TRUE</code> in <code>semplot</code> object that is to be pre-loaded to <code>ggsem</code>. If <code>residuals = FALSE</code>, then <code>ggsem</code> will not have access to information about residuals when only <code>semPlot</code> is pre-loaded (option B, see below). However, it can be set to <code>FALSE</code> when you pre-load <code>lavaan</code> model with <code>semPlot</code> object (option A, see below).</p>
</section>
<section id="step-2-launch-ggsem-with-qgraph-object" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-launch-ggsem-with-qgraph-object">Step 2: Launch <code>ggsem</code> with <code>qgraph</code> Object</h3>
<p>Load <code>qgraph</code> object using <code>object</code> argument in <code>ggsem()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Option A: With full functionality (recommended)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> semplot_obj, <span class="at">model =</span> fit)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Option B: Visual customization only (limited)</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> semplot_obj)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig3.png" class="img-fluid figure-img" style="width:65.0%"></p>
<figcaption>Figure 3. A SEM generated from pre-load lavaan object and pre-loaded semPlot object</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Important</strong>: The <code>object</code> argument must contain the <code>semPaths</code> plot. <code>model</code> argument can contain the original lavaan model for full functionality (optional).</p>
<p><strong>Understanding <code>qgraph</code> Object Limitations:</strong> When loading a <code>qgraph</code> object without the original <code>lavaan</code> model, <code>ggsem</code> can only access the visual representation, not the underlying statistical model. Missing edge labels in the original <code>qgraph</code> object will remain missing.</p>
</section>
</section>
<section id="loading-blavaan-objects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-blavaan-objects">3. Loading <code>blavaan</code> Objects</h2>
<p><code>ggsem</code> seamlessly integrates with <code>blavaan</code> objects for Bayesian structural equation modeling, providing access to posterior distributions and Bayesian fit statistics.</p>
<section id="step-1-fit-your-bayesian-sem" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-fit-your-bayesian-sem">Step 1: Fit Your Bayesian SEM</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the Bayesian SEM model</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fit_bayes <span class="ot">&lt;-</span> <span class="fu">bsem</span>(model, <span class="at">data =</span> HolzingerSwineford1939)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
SAMPLING FOR MODEL 'stanmarg' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0.000336 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 3.36 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 1500 [  0%]  (Warmup)
Chain 1: Iteration:  150 / 1500 [ 10%]  (Warmup)
Chain 1: Iteration:  300 / 1500 [ 20%]  (Warmup)
Chain 1: Iteration:  450 / 1500 [ 30%]  (Warmup)
Chain 1: Iteration:  501 / 1500 [ 33%]  (Sampling)
Chain 1: Iteration:  650 / 1500 [ 43%]  (Sampling)
Chain 1: Iteration:  800 / 1500 [ 53%]  (Sampling)
Chain 1: Iteration:  950 / 1500 [ 63%]  (Sampling)
Chain 1: Iteration: 1100 / 1500 [ 73%]  (Sampling)
Chain 1: Iteration: 1250 / 1500 [ 83%]  (Sampling)
Chain 1: Iteration: 1400 / 1500 [ 93%]  (Sampling)
Chain 1: Iteration: 1500 / 1500 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 1.589 seconds (Warm-up)
Chain 1:                2.428 seconds (Sampling)
Chain 1:                4.017 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL 'stanmarg' NOW (CHAIN 2).
Chain 2: 
Chain 2: Gradient evaluation took 0.000157 seconds
Chain 2: 1000 transitions using 10 leapfrog steps per transition would take 1.57 seconds.
Chain 2: Adjust your expectations accordingly!
Chain 2: 
Chain 2: 
Chain 2: Iteration:    1 / 1500 [  0%]  (Warmup)
Chain 2: Iteration:  150 / 1500 [ 10%]  (Warmup)
Chain 2: Iteration:  300 / 1500 [ 20%]  (Warmup)
Chain 2: Iteration:  450 / 1500 [ 30%]  (Warmup)
Chain 2: Iteration:  501 / 1500 [ 33%]  (Sampling)
Chain 2: Iteration:  650 / 1500 [ 43%]  (Sampling)
Chain 2: Iteration:  800 / 1500 [ 53%]  (Sampling)
Chain 2: Iteration:  950 / 1500 [ 63%]  (Sampling)
Chain 2: Iteration: 1100 / 1500 [ 73%]  (Sampling)
Chain 2: Iteration: 1250 / 1500 [ 83%]  (Sampling)
Chain 2: Iteration: 1400 / 1500 [ 93%]  (Sampling)
Chain 2: Iteration: 1500 / 1500 [100%]  (Sampling)
Chain 2: 
Chain 2:  Elapsed Time: 3.314 seconds (Warm-up)
Chain 2:                4.617 seconds (Sampling)
Chain 2:                7.931 seconds (Total)
Chain 2: 

SAMPLING FOR MODEL 'stanmarg' NOW (CHAIN 3).
Chain 3: 
Chain 3: Gradient evaluation took 0.00017 seconds
Chain 3: 1000 transitions using 10 leapfrog steps per transition would take 1.7 seconds.
Chain 3: Adjust your expectations accordingly!
Chain 3: 
Chain 3: 
Chain 3: Iteration:    1 / 1500 [  0%]  (Warmup)
Chain 3: Iteration:  150 / 1500 [ 10%]  (Warmup)
Chain 3: Iteration:  300 / 1500 [ 20%]  (Warmup)
Chain 3: Iteration:  450 / 1500 [ 30%]  (Warmup)
Chain 3: Iteration:  501 / 1500 [ 33%]  (Sampling)
Chain 3: Iteration:  650 / 1500 [ 43%]  (Sampling)
Chain 3: Iteration:  800 / 1500 [ 53%]  (Sampling)
Chain 3: Iteration:  950 / 1500 [ 63%]  (Sampling)
Chain 3: Iteration: 1100 / 1500 [ 73%]  (Sampling)
Chain 3: Iteration: 1250 / 1500 [ 83%]  (Sampling)
Chain 3: Iteration: 1400 / 1500 [ 93%]  (Sampling)
Chain 3: Iteration: 1500 / 1500 [100%]  (Sampling)
Chain 3: 
Chain 3:  Elapsed Time: 1.246 seconds (Warm-up)
Chain 3:                2.219 seconds (Sampling)
Chain 3:                3.465 seconds (Total)
Chain 3: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing post-estimation metrics (including lvs if requested)...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(fit_bayes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "blavaan"
attr(,"package")
[1] "blavaan"</code></pre>
</div>
</div>
</section>
<section id="step-2-optional-sempaths-visualization" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-optional-sempaths-visualization">Step 2: Optional <code>semPaths</code> Visualization</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create semPaths object with Bayesian parameter estimates</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>sem_paths <span class="ot">&lt;-</span> <span class="fu">semPaths</span>(fit_bayes, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">what =</span> <span class="st">"paths"</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">residuals =</span> <span class="cn">TRUE</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">whatLabels =</span> <span class="st">"par"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="step-3-launch-ggsem-with-blavaan-objects" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-3-launch-ggsem-with-blavaan-objects">Step 3: Launch <code>ggsem</code> with <code>blavaan</code> Objects</h3>
<p>When only <code>blavaan</code> class object is provided (the statistical model), then specify it as <code>object</code> in <code>ggsem()</code>. If you specify visualization output as <code>object</code>, then provide the model input as <code>model</code> argument. The <code>qgraph</code> output can also be pre-loaded as <code>object</code> without any <code>model</code> object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Option A: Direct blavaan object loading</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> fit_bayes)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Option B: semPaths object with blavaan model</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> sem_paths, <span class="at">model =</span> fit_bayes)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Option C: semPaths object only (limited functionality)</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> sem_paths)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig3.png" class="img-fluid figure-img" style="width:65.0%"></p>
<figcaption>Figure 4. A SEM generated from pre-load blavaan object and pre-loaded semPlot object.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Note</strong>: Option C provides only visual customization without access to Bayesian statistical features since no model object is available.</p>
<p><strong>What Happens When You Load a <code>blavaan</code> Object:</strong></p>
<ul>
<li><p>Bayesian SEM diagram with posterior means as parameter estimates</p></li>
<li><p>Access to posterior distributions and credible intervals</p></li>
<li><p>Bayesian fit statistics (PPP, DIC, WAIC, LOOIC)</p></li>
<li><p>MCMC diagnostics and convergence information</p></li>
<li><p>Full visual customization capabilities</p></li>
</ul>
<p><strong>Bayesian-Specific Features:</strong></p>
<ul>
<li><p><strong>Parameter Estimates</strong>: Posterior means with credible intervals</p></li>
<li><p><strong>Fit Statistics</strong>: PPP, DIC, WAIC, LOOIC instead of frequentist indices</p></li>
<li><p><strong>Diagnostics</strong>: MCMC convergence information</p></li>
</ul>
<p><strong>Key Differences from lavaan Objects:</strong></p>
<ul>
<li><p>Posterior means instead of maximum likelihood estimates</p></li>
<li><p>Credible intervals instead of confidence intervals</p></li>
<li><p>Bayesian p-values (PPP) instead of frequentist p-values</p></li>
<li><p>Information criteria (DIC/WAIC) instead of traditional fit indices</p></li>
</ul>
<p>All three object types (<code>lavaan</code>, <code>semPlot</code>/<code>qgraph</code>, and <code>blavaan</code>) can be loaded directly into ggsem using the same simple workflow: <code>ggsem(object = your_model)</code>, with optional additional parameters for customization and, in the case of semPlot objects, the original model for full statistical functionality.</p>
</section>
</section>
<section id="loading-lavaanplotobjects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-lavaanplotobjects">4. Loading <code>lavaanPlot</code>Objects</h2>
<p><code>lavaanPlot</code> generates SEM diagrams from <code>lavaan</code> models using <code>DiagrammeR</code>, providing customizable node and edge styling. The package creates <code>grViz</code> objects that can be imported into ggsem for interactive parameter visualization.</p>
<p>Unlike the above three, when pre-loading <code>lavaanPlot</code>, you need both <code>object</code> and <code>model</code>.</p>
<section id="step-1-create-lavaanplot-visualization" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-create-lavaanplot-visualization">Step 1: Create <code>lavaanPlot</code> Visualization</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaanPlot)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>lavaanplot_obj <span class="ot">&lt;-</span> <span class="fu">lavaanPlot</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> fit, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">node_options =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="st">"box"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge_options =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"gray"</span>), </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">coefs =</span> <span class="cn">TRUE</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lavaanplot_obj)  <span class="co"># "grViz" "htmlwidget"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "grViz"      "htmlwidget"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>lavaanplot_obj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-1c189ff4003044ae5988" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1c189ff4003044ae5988">{"x":{"diagram":" digraph plot { \n graph [ overlap = true, fontsize = 10 ] \n node [ shape = box, alpha = 0.5 ] \n node [shape = box] \n x1; x2; x3; x4; x5; x6; x7; x8; x9 \n node [shape = oval] \n visual; textual; speed \n \n edge [ color = gray ] \n  visual->x1 [label = \"1\"] visual->x2 [label = \"0.55\"] visual->x3 [label = \"0.73\"] textual->x4 [label = \"1\"] textual->x5 [label = \"1.11\"] textual->x6 [label = \"0.93\"] speed->x7 [label = \"1\"] speed->x8 [label = \"1.18\"] speed->x9 [label = \"1.08\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="step-2-launch-ggsem-with-lavaanplot-object" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-launch-ggsem-with-lavaanplot-object">Step 2: Launch <code>ggsem</code> with <code>lavaanPlot</code> Object</h3>
<p>The plot generated with <code>lavaanPlot</code> is <code>grViz</code> class, and it should be loaded as <code>object</code>, while its statistical model that has been used to create the <code>grViz</code> object is specified as <code>model</code> in <code>ggsem()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load with both lavaanPlot visualization and lavaan model</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> lavaanplot_obj, <span class="at">model =</span> fit, <span class="at">width =</span> <span class="dv">35</span>, <span class="at">height =</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig5.png" class="img-fluid figure-img" width="2401"></p>
<figcaption>Figure 5. A SEM generated from pre-loaded lavaanPlot object.</figcaption>
</figure>
</div>
</div>
</div>
<p>So far, only rectangles and ovals are faithfully transferred from <code>lavaanPlot</code> to <code>ggsem</code>.</p>
</section>
<section id="important-requirements" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="important-requirements">Important Requirements</h3>
<p><strong>Required Parameters</strong>: Both <code>object</code> (<code>lavaanPlot</code> visualization) and <code>model</code> (original lavaan model) must be provided.</p>
<p><strong>Layout Preservation</strong>: <code>lavaanPlot</code> layouts are fixed in ggsem. The “Custom” layout option will be selected, but layout algorithms cannot be applied.</p>
<p><strong>Rendering Differences</strong>: Visual elements may differ slightly due to the transition from <code>DiagrammeR</code> to <code>ggplot2</code> rendering engines.</p>
</section>
<section id="what-ggsem-preserves" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-ggsem-preserves">What <code>ggsem</code> Preserves:</h3>
<ul>
<li><p>Color schemes and styling</p></li>
<li><p>Node shapes and structural layout</p></li>
<li><p>Edge connections and path directions</p></li>
<li><p>Label positioning</p></li>
<li><p>Diagram topology</p></li>
</ul>
</section>
<section id="what-may-differ" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-may-differ">What May Differ:</h3>
<ul>
<li><p>Curved line curvature</p></li>
<li><p>Node sizes and proportions</p></li>
<li><p>Font rendering and spacing</p></li>
<li><p>Arrowhead styling</p></li>
</ul>
</section>
</section>
<section id="loading-tidysem-objects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-tidysem-objects">5. Loading <code>tidySEM</code> Objects</h2>
<p>The <code>ggsem</code> package integrates with <code>tidySEM</code> objects, allowing you to import and customize visualizations created using <code>tidySEM</code>’s workflow. The <code>prepare_graph()</code> function produces <code>sem_graph</code> objects that are fully compatible with <code>ggsem</code>.</p>
<p>When pre-loading <code>tidySEM</code> object, you need both <code>object</code> and <code>model</code> inputs specified. <code>sem_graph</code> class object from <code>tidySEM</code> has to be specified as <code>object</code> in <code>ggsem()</code>, while <code>model</code> specifies a model object that has been used to draw <code>tidySEM</code> plot object.</p>
<section id="step-1-create-tidysem-object" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-create-tidysem-object">Step 1: Create <code>tidySEM</code> Object</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidySEM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidySEM' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'tidySEM':
  method          from  
  predict.MxModel OpenMx</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>HS.model <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="st">  visual  =~ x1 + x2 + x3</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="st">  textual =~ x4 + x5 + x6</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="st">  speed   =~ x7 + x8 + x9</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">sem</span>(HS.model, <span class="at">data =</span> HolzingerSwineford1939)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create custom layout</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>lay <span class="ot">&lt;-</span> <span class="fu">get_layout</span>(<span class="st">"visual"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"textual"</span>, <span class="st">""</span>, <span class="st">"speed"</span>, <span class="st">""</span>, <span class="st">""</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"x4"</span>, <span class="st">"x5"</span>, <span class="st">"x6"</span>, <span class="st">"x7"</span>, <span class="st">"x8"</span>, <span class="st">"x9"</span>, </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">rows =</span> <span class="dv">2</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare graph object</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>tidysem_object <span class="ot">&lt;-</span> <span class="fu">prepare_graph</span>(<span class="at">model =</span> fit, <span class="at">layout =</span> lay)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tidysem_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tidysem_object)  <span class="co"># "sem_graph"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sem_graph"</code></pre>
</div>
</div>
</section>
<section id="step-2-launch-ggsem-with-sem_graph-object" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-launch-ggsem-with-sem_graph-object">Step 2: Launch <code>ggsem</code> with <code>sem_graph</code> Object</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the tidySEM object in ggsem</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> tidysem_object, <span class="at">model =</span> fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig6.png" class="img-fluid figure-img" width="2258"></p>
<figcaption>Figure 6. A SEM generated from pre-loaded tidySEM object and lavaan model object.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="important-notes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="important-notes">Important Notes</h3>
<p><strong>Layout Preservation</strong>: <code>tidySEM</code> layouts are fixed in <code>ggsem</code>. The “Custom” layout option will be selected, but layout algorithms cannot be applied.</p>
<p><strong>Edge Label Preservation</strong>: <code>tidySEM</code> objects preserve edge labels exactly as specified, including significance notation.</p>
</section>
<section id="what-ggsem-preserves-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-ggsem-preserves-1">What <code>ggsem</code> Preserves:</h3>
<ul>
<li><p>Complete visual structure with custom layouts</p></li>
<li><p>Node relationships and path diagram structure</p></li>
<li><p>Statistical model information</p></li>
<li><p>Parameter estimates and specifications</p></li>
<li><p>Edge labels including significance stars</p></li>
</ul>
</section>
<section id="what-ggsem-cannot-modify" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-ggsem-cannot-modify">What <code>ggsem</code> Cannot Modify:</h3>
<ul>
<li><p>Layout algorithm (preserved as “Custom”)</p></li>
<li><p>Base node positions</p></li>
<li><p>Overall structural arrangement</p></li>
<li><p>Edge label significance notation</p></li>
</ul>
<p><strong>Note</strong>: Always provide both the <code>sem_graph</code> object and the original <code>lavaan</code> (or <code>blavaan</code>) model.</p>
</section>
</section>
<section id="loading-openmx-objects" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-openmx-objects">6. Loading <code>OpenMx</code> Objects</h2>
<p>The <code>ggsem</code> package provides integration with <code>OpenMx</code> models, optionally through <code>tidySEM</code>’s visualization workflow. You can just pre-load <code>OpenMx</code> model as <code>object</code> without plot object, or you can pre-load <code>OpenMx</code> model as <code>model</code> and <code>tidySEM</code> plot as <code>object</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(OpenMx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'OpenMx' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use built-in data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(HolzingerSwineford1939, <span class="at">package =</span> <span class="st">"lavaan"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple preparation - use all data, no grouping</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>hs_data <span class="ot">&lt;-</span> HolzingerSwineford1939 <span class="sc">%&gt;%</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(id, sex, ageyr, agemo, grade, school)) <span class="sc">%&gt;%</span>  <span class="co"># Remove school and other vars</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Single-group CFA model</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>cfa_model <span class="ot">&lt;-</span> <span class="fu">mxModel</span>(</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"HolzingerSwineford_CFA"</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"RAM"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxData</span>(hs_data, <span class="at">type =</span> <span class="st">"raw"</span>),</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">manifestVars =</span> <span class="fu">paste0</span>(<span class="st">"x"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>),</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">latentVars =</span> <span class="fu">c</span>(<span class="st">"visual"</span>, <span class="st">"textual"</span>, <span class="st">"speed"</span>),</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Factor loadings with labels</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"visual"</span>, <span class="at">to =</span> <span class="fu">c</span>(<span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>),</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">free =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>),  <span class="co"># First loading fixed for identification</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>),</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"visual_x1"</span>, <span class="st">"visual_x2"</span>, <span class="st">"visual_x3"</span>)),</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"textual"</span>, <span class="at">to =</span> <span class="fu">c</span>(<span class="st">"x4"</span>, <span class="st">"x5"</span>, <span class="st">"x6"</span>),</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">free =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>),</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"textual_x4"</span>, <span class="st">"textual_x5"</span>, <span class="st">"textual_x6"</span>)),</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"speed"</span>, <span class="at">to =</span> <span class="fu">c</span>(<span class="st">"x7"</span>, <span class="st">"x8"</span>, <span class="st">"x9"</span>),</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">free =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>),</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"speed_x7"</span>, <span class="st">"speed_x8"</span>, <span class="st">"speed_x9"</span>)),</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Residual variances</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="fu">paste0</span>(<span class="st">"x"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>), <span class="at">arrows =</span> <span class="dv">2</span>, <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">rep</span>(<span class="fl">0.5</span>, <span class="dv">9</span>),</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="st">"resid_x"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)),</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Factor variances</span></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="st">"visual"</span>, <span class="st">"textual"</span>, <span class="st">"speed"</span>), <span class="at">arrows =</span> <span class="dv">2</span>, <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"var_visual"</span>, <span class="st">"var_textual"</span>, <span class="st">"var_speed"</span>)),</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Factor covariances</span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"visual"</span>, <span class="at">to =</span> <span class="st">"textual"</span>, <span class="at">arrows =</span> <span class="dv">2</span>, <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fl">0.3</span>, <span class="at">labels =</span> <span class="st">"cov_visual_textual"</span>),</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"visual"</span>, <span class="at">to =</span> <span class="st">"speed"</span>, <span class="at">arrows =</span> <span class="dv">2</span>, <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fl">0.2</span>, <span class="at">labels =</span> <span class="st">"cov_visual_speed"</span>),</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"textual"</span>, <span class="at">to =</span> <span class="st">"speed"</span>, <span class="at">arrows =</span> <span class="dv">2</span>, <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fl">0.2</span>, <span class="at">labels =</span> <span class="st">"cov_textual_speed"</span>),</span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Means/intercepts</span></span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mxPath</span>(<span class="at">from =</span> <span class="st">"one"</span>, <span class="at">to =</span> <span class="fu">paste0</span>(<span class="st">"x"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>), <span class="at">free =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">values =</span> <span class="fu">colMeans</span>(hs_data, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="st">"mean_x"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>))</span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>cfa_fit <span class="ot">&lt;-</span> <span class="fu">mxRun</span>(cfa_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Running HolzingerSwineford_CFA with 30 parameters</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cfa_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Summary of HolzingerSwineford_CFA 
 
free parameters:
                 name matrix     row     col  Estimate  Std.Error A
1           visual_x2      A      x2  visual 0.5535011 0.10921118  
2           visual_x3      A      x3  visual 0.7293714 0.11723235  
3          textual_x5      A      x5 textual 1.1130765 0.06498136  
4          textual_x6      A      x6 textual 0.9261458 0.05619111  
5            speed_x8      A      x8   speed 1.1799503 0.15025376  
6            speed_x9      A      x9   speed 1.0815303 0.19508113  
7            resid_x1      S      x1      x1 0.5490550 0.11901095  
8            resid_x2      S      x2      x2 1.1338396 0.10425397  
9            resid_x3      S      x3      x3 0.8443230 0.09506139  
10           resid_x4      S      x4      x4 0.3711727 0.04796107  
11           resid_x5      S      x5      x5 0.4462549 0.05793001  
12           resid_x6      S      x6      x6 0.3562030 0.04343945  
13           resid_x7      S      x7      x7 0.7993917 0.08755798  
14           resid_x8      S      x8      x8 0.4876975 0.09164537  
15           resid_x9      S      x9      x9 0.5661306 0.09056512  
16         var_visual      S  visual  visual 0.8093136 0.14969561  
17 cov_visual_textual      S  visual textual 0.4082316 0.07966415  
18        var_textual      S textual textual 0.9794930 0.11219920  
19   cov_visual_speed      S  visual   speed 0.2622248 0.05537891  
20  cov_textual_speed      S textual   speed 0.1734948 0.04931108  
21          var_speed      S   speed   speed 0.3837472 0.09204134  
22            mean_x1      M       1      x1 4.9357697 0.06717776  
23            mean_x2      M       1      x2 6.0880399 0.06775428  
24            mean_x3      M       1      x3 2.2504153 0.06508019  
25            mean_x4      M       1      x4 3.0609081 0.06698704  
26            mean_x5      M       1      x5 4.3405316 0.07425801  
27            mean_x6      M       1      x6 2.1855719 0.06304459  
28            mean_x7      M       1      x7 4.1859021 0.06269525  
29            mean_x8      M       1      x8 5.5270764 0.05826912  
30            mean_x9      M       1      x9 5.3741233 0.05806980  

Model Statistics: 
               |  Parameters  |  Degrees of Freedom  |  Fit (-2lnL units)
       Model:             30                   2679               7475.49
   Saturated:             54                   2655                    NA
Independence:             18                   2691                    NA
Number of observations/statistics: 301/2709

Information Criteria: 
      |  df Penalty  |  Parameters Penalty  |  Sample-Size Adjusted
AIC:       2117.490               7535.490                 7542.379
BIC:      -7813.859               7646.703                 7551.560
To get additional fit indices, see help(mxRefModels)
timestamp: 2025-12-18 14:45:41 
Wall clock time: 0.09934998 secs 
optimizer:  SLSQP 
OpenMx version number: 2.21.13 
Need help?  See help(mxSummary) </code></pre>
</div>
</div>
<section id="approach-1-openmx-model-only" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="approach-1-openmx-model-only">Approach 1: <code>OpenMx</code> Model Only</h3>
<p>Load <code>OpenMx</code> models directly for automatic visualization generation within <code>ggsem</code> using <code>object</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> cfa_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig7.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Figure 7. A SEM generated from pre-loaded OpenMx object.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Use case</strong>: Quick visualization without predefined layouts. <code>ggsem</code> automatically generates the SEM diagram from the <code>OpenMx</code> model structure.</p>
</section>
<section id="approach-2-openmx-model-tidysem-visualization" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="approach-2-openmx-model-tidysem-visualization">Approach 2: <code>OpenMx</code> Model + <code>tidySEM</code> Visualization</h3>
<p>Combine <code>OpenMx</code> estimation with <code>tidySEM</code>’s layout control for customized visual presentations. In this case, <code>object</code> should be specified for <code>tidySEM</code> object, and <code>model</code> should be specified to <code>OpenMx</code> object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidySEM)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare visualization with tidySEM</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>mx_graph <span class="ot">&lt;-</span> <span class="fu">prepare_graph</span>(cfa_fit)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mx_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import with custom layout</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> mx_graph, <span class="at">model =</span> cfa_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig8.png" class="img-fluid figure-img" width="2223"></p>
<figcaption>Figure 8. A SEM generated from pre-loaded <code>tidySEM</code> object and <code>OpenMx</code> object.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Use case</strong>: Predefined layouts (see above) and customized visual styling. <code>tidySEM</code> can also provide layout control while <code>OpenMx</code> handles statistical estimation.</p>
</section>
<section id="key-differences" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="key-differences">Key Differences:</h3>
<p><strong>Approach 1 (<code>OpenMx</code> only)</strong>:</p>
<ul>
<li><p><code>ggsem</code> generates automatic layout</p></li>
<li><p>Quick setup, minimal code</p></li>
<li><p>Less visual customization control</p></li>
</ul>
<p><strong>Approach 2 (<code>OpenMx</code> + <code>tidySEM</code>)</strong>:</p>
<ul>
<li><p>Custom layouts via <code>tidySEM</code></p></li>
<li><p>Enhanced visual styling options</p></li>
<li><p>Preserves specific node positioning</p></li>
<li><p>Requires additional preparation step</p></li>
</ul>
</section>
</section>
<section id="loading-openmx-objects-created-with-umx-package" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-openmx-objects-created-with-umx-package">7. Loading <code>OpenMx</code> Objects Created with <code>umx</code> Package</h2>
<p>You can also visualize <code>OpenMx</code> objects created with <code>umx</code> package, which provides utility functions to handle <code>OpenMx</code> model objects, as shown below. This example is from the <code>umx</code> documentation website (<a href="https://tbates.github.io/" class="uri">https://tbates.github.io/</a>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(umx)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(OpenMx)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsem)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">=</span> <span class="fu">umxRAM</span>(<span class="st">"cars"</span>, <span class="at">data =</span> mtcars, <span class="at">type=</span><span class="st">"cov"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">umxPath</span>(<span class="fu">c</span>(<span class="st">"wt"</span>, <span class="st">"disp"</span>), <span class="at">to =</span> <span class="st">"mpg"</span>),</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">umxPath</span>(<span class="st">"wt"</span>, <span class="at">with =</span> <span class="st">"disp"</span>),</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">umxPath</span>(<span class="at">var =</span> <span class="fu">c</span>(<span class="st">"wt"</span>, <span class="st">"disp"</span>, <span class="st">"mpg"</span>))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

Table: Parameter loadings for model 'cars'

|   |name           |  Estimate|       SE|type          |
|:--|:--------------|---------:|--------:|:-------------|
|5  |disp_with_wt   |   104.319|   27.773|Manifest Cov  |
|1  |disp_to_mpg    |    -0.018|    0.009|Manifest path |
|2  |wt_to_mpg      |    -3.351|    1.108|Manifest path |
|3  |mpg_with_mpg   |     7.709|    1.927|Residual      |
|4  |disp_with_disp | 14880.775| 3720.082|Residual      |
|6  |wt_with_wt     |     0.927|    0.232|Residual      |</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(m1) <span class="co"># plotted with umx package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-87dd2be0f04e6ac2b4aa" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-87dd2be0f04e6ac2b4aa">{"x":{"diagram":"digraph G {\n    label=\"cars\";\n\tsplines=\"TRUE\";\n\t# Latents\n\n\t# Manifests\n\tmpg [shape = square];\n\tdisp [shape = square];\n\twt [shape = square];\n\n\t#Variances/residuals\n\tmpg -> mpg[label=\"7.71\", dir=both, headport=s, tailport=s];\n\tdisp -> disp[label=\"14880.77\", dir=both, headport=s, tailport=s];\n\twt -> wt[label=\"0.93\", dir=both, headport=s, tailport=s];\n\n\n\t# Single arrow paths\n\tdisp -> mpg [label=\"-0.02\"];\n\twt -> mpg [label=\"-3.35\"];\n\n\t# Covariances\n\tdisp -> wt [dir=both, label=\"104.32\"];\n\n\t{rank=min; };\n\t{rank=same; mpg disp wt};\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><code>ggsem</code> plots the final estimated values from <code>OpenMx</code> objects, while <code>umx</code> plots starting values, so the plotting outputs may look different.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig8b.png" class="img-fluid figure-img" style="width:65.0%"></p>
<figcaption>Figure 9. A path diagram generated from pre-loaded <code>OpenMx</code> object using the <code>umx</code> package.</figcaption>
</figure>
</div>
</div>
</div>
<p>This is an example with customized colors of nodes, edges and loop arrows.</p>
</section>
<section id="loading-mplus-object" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-mplus-object">8. Loading <code>Mplus</code> Object</h2>
<p>The code chunk below is directly from the documentation website of <code>MplusAutomation</code> (https://michaelhallquist.github.io/MplusAutomation/). You can only pre-laod <code>Mplus</code> model object by specifying the <code>object</code> parameter in <code>ggsem()</code>.</p>
<p>Load <code>Mplus</code> models directly into <code>ggsem</code> using <code>object</code> argument:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MplusAutomation) </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsem)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>pathmodel <span class="ot">&lt;-</span> <span class="fu">mplusObject</span>(</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">TITLE =</span> <span class="st">"MplusAutomation Example - Path Model;"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">MODEL =</span> <span class="st">"</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="st">     mpg ON hp;</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="st">     wt ON disp;"</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">OUTPUT =</span> <span class="st">"CINTERVAL;"</span>,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>   <span class="at">rdata =</span> mtcars)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">mplusModeler</span>(pathmodel, <span class="at">modelout =</span> <span class="st">"model1.inp"</span>, <span class="at">run =</span> <span class="dv">1</span>L)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mplusObject" "list"       </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import directly into ggsem</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig9.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Figure 10. A path diagram generated from pre-loaded Mplus object.</figcaption>
</figure>
</div>
</div>
</div>
<p>Notice that the parameter estimate values from the figure match to those from the <code>Mplus</code> model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(texreg)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">screenreg</span>(fit, <span class="at">summaries =</span> <span class="fu">c</span>(<span class="st">"Observations"</span>, <span class="st">"CFI"</span>, <span class="st">"SRMR"</span>), <span class="at">single.row=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
==================================
                  TITLE           
----------------------------------
 MPG&lt;-HP          -0.06 (0.01) ***
 WT&lt;-DISP          0.01 (0.00) ***
 WT&lt;-&gt;MPG         -1.02 (0.38) ** 
 MPG&lt;-Intercepts  29.59 (1.53) ***
 WT&lt;-Intercepts    1.82 (0.18) ***
 MPG&lt;-&gt;MPG        14.04 (3.52) ***
 WT&lt;-&gt;WT           0.21 (0.06) ***
----------------------------------
Observations      32              
CFI                0.87           
SRMR               0.17           
==================================
*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05</code></pre>
</div>
</div>
</section>
<section id="loading-semplot-objects-with-modifications-from-semptools-package" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="loading-semplot-objects-with-modifications-from-semptools-package">9. Loading <code>semPlot</code> Objects with Modifications from <code>semptools</code> Package</h2>
<p>The <code>semptools</code> package can be used to create a customized layout for <code>semPlot</code> objects or modify other properties of the plot objects. These modifications from <code>semptools</code> can also be pre-loaded into <code>ggsem()</code>. Here, I directly use examples from the documentation of <code>semptools</code> (https://sfcheung.github.io/semptools/).</p>
<section id="annotations" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="annotations">Annotations</h3>
<p>Add statistical annotations like significance markers to semPlot objects:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semptools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'semptools' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>mod_pa <span class="ot">&lt;-</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'x1 ~~ x2</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="st">  x3 ~  x1 + x2</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="st">  x4 ~  x1 + x3</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="st"> '</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>fit_pa <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">sem</span>(mod_pa, pa_example)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(fit_pa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  lhs op rhs   est    se     z pvalue ci.lower ci.upper
1  x1 ~~  x2 0.005 0.097 0.054  0.957   -0.186    0.196
2  x3  ~  x1 0.537 0.097 5.551  0.000    0.348    0.727
3  x3  ~  x2 0.376 0.093 4.050  0.000    0.194    0.557
4  x4  ~  x1 0.111 0.127 0.875  0.382   -0.138    0.361
5  x4  ~  x3 0.629 0.108 5.801  0.000    0.416    0.841
6  x3 ~~  x3 0.874 0.124 7.071  0.000    0.632    1.117
7  x4 ~~  x4 1.194 0.169 7.071  0.000    0.863    1.525
8  x1 ~~  x1 0.933 0.132 7.071  0.000    0.674    1.192
9  x2 ~~  x2 1.017 0.144 7.071  0.000    0.735    1.298</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>              <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>), <span class="at">byrow =</span> <span class="cn">TRUE</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>p_pa <span class="ot">&lt;-</span> <span class="fu">semPaths</span>(fit_pa, <span class="at">whatLabels =</span> <span class="st">"est"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">sizeMan =</span> <span class="dv">10</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">edge.label.cex =</span> <span class="fl">1.15</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">style =</span> <span class="st">"ram"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">nCharNodes =</span> <span class="dv">0</span>, <span class="at">nCharEdges =</span> <span class="dv">0</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">layout =</span> m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> p_pa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig10.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Figure 11. A path diagram generated from pre-loaded <code>semPlot</code> object.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>p_pa2 <span class="ot">&lt;-</span> <span class="fu">mark_sig</span>(p_pa, fit_pa)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_pa2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(<span class="at">object =</span> p_pa2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig11.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Figure 12. A path diagram generated from pre-loaded semPlot object with modified annotations using semptools package.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="customized-layout" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="customized-layout">Customized Layout</h3>
<p>Create advanced custom layouts using <code>semptools</code> layout functions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'f1 =~ x01 + x02 + x03</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="st">   f2 =~ x04 + x05 + x06 + x07</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="st">   f3 =~ x08 + x09 + x10</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="st">   f4 =~ x11 + x12 + x13 + x14</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="st">   f3 ~  f1 + f2</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="st">   f4 ~  f1 + f3</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="st">  '</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">sem</span>(mod, cfa_example)</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">semPaths</span>(fit, <span class="at">whatLabels=</span><span class="st">"est"</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">sizeMan =</span> <span class="dv">5</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">node.width =</span> <span class="dv">1</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">edge.label.cex =</span> .<span class="dv">75</span>,</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>              <span class="at">style =</span> <span class="st">"ram"</span>,</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>              <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>)) <span class="co"># original layout</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(p1, <span class="at">width =</span> <span class="dv">35</span>, <span class="at">height =</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig12.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>Figure 13. A SEM diagram generated from pre-loaded <code>semPlot</code> object.</figcaption>
</figure>
</div>
</div>
</div>
<p>Now, we modify the layout using functions from the <code>semptools</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>indicator_order  <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"x04"</span>, <span class="st">"x05"</span>, <span class="st">"x06"</span>, <span class="st">"x07"</span>,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"x01"</span>, <span class="st">"x02"</span>, <span class="st">"x03"</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"x11"</span>, <span class="st">"x12"</span>, <span class="st">"x13"</span>, <span class="st">"x14"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"x08"</span>, <span class="st">"x09"</span>, <span class="st">"x10"</span>)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>indicator_factor <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"f1"</span>,  <span class="st">"f1"</span>,  <span class="st">"f1"</span>,</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"f3"</span>,  <span class="st">"f3"</span>,  <span class="st">"f3"</span>)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>factor_layout <span class="ot">&lt;-</span> <span class="fu">layout_matrix</span>(<span class="at">f1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>                               <span class="at">f2 =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>),</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>                               <span class="at">f3 =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>                               <span class="at">f4 =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>factor_point_to <span class="ot">&lt;-</span> <span class="fu">layout_matrix</span>(<span class="at">left =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">left =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>),</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">down =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">down =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">set_sem_layout</span>(p1,</span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">indicator_order =</span> indicator_order,</span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">indicator_factor =</span> indicator_factor,</span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a>                     <span class="at">factor_layout =</span> factor_layout,</span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>                     <span class="at">factor_point_to =</span> factor_point_to)</span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p2) <span class="co"># modified layout</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sem_preload_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsem</span>(p2, <span class="at">width =</span> <span class="dv">35</span>, <span class="at">height =</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sem_preload/fig13.png" class="img-fluid figure-img" style="width:85.0%"></p>
<figcaption>Figure 14. A SEM diagram generated from pre-loaded semPlot object with modified layout using semptools package.</figcaption>
</figure>
</div>
</div>
</div>
<p>Most (if not all) <code>semptools</code> enhancements (layouts, annotations, styling) are preserved when loaded into <code>ggsem</code>, providing a transition from static customized plots to interactive exploration.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./network_genAI.html" class="pagination-link" aria-label="AI-Powered Network Layout Generation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">AI-Powered Network Layout Generation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./network_preload.html" class="pagination-link" aria-label="Integrated Network Workflow">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Integrated Network Workflow</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>